<template>
    <el-form-item :label="isString(label) ? label : null" :prop="prop" v-bind="formItem">
        <template v-if="isFunction(label)" #label>
            <component :is="label" />
        </template>
        <QFormComp :label="isString(label) ? label : ''" :type="type" :prop="prop" :formValue="formValue"
            :options="options" :orgAttrs="attrs" :readonly="readonly" />
    </el-form-item>
</template>

<script lang="ts" setup>
import { isFunction, isString } from "lodash-es";
import { defineProps, toRefs, } from 'vue'
import type { FormItemRows } from './types'
import QFormComp from './qf-component'

const props = defineProps<Omit<FormItemRows, 'col' | 'vIf'> & { formValue: Indexable, readonly?: boolean }>()

const { type, label, prop, formItem, options, attrs, formValue, readonly } = toRefs(props)

</script>
<style lang="scss" scoped></style>